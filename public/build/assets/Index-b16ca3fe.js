import{o as s,c as o,F as h,j as x,e as g,v as T,i as v,p as k,u as a,k as f,Q as B,d as H,r as S,T as w,a as d,w as u,Z as N,b as y,f as e,t as b,s as M,g as O,h as U,l as D}from"./app-dd8571fb.js";import{_ as F}from"./AuthWithoutSidebarLayout-3b9d1bd0.js";import{_ as Q}from"./Breadcrumbs-c157ac91.js";import{B as j}from"./Box-53e3f365.js";import"./AuthenticatedLayout-49277159.js";import"./DropdownLink-4735ad2e.js";import"./_plugin-vue_export-helper-c27b6911.js";const z={class:"flex md:gap-1 items-center [&>*:first-child>span]:w-[80px] [&>*:first-child>span]:block [&>*:last-child>span]:w-[80px] [&>*:last-child>span]:block"},A=["innerHTML"],E={key:1},I={__name:"Pagination",props:{links:Array},setup(l){return(p,_)=>(s(),o("div",z,[(s(!0),o(h,null,x(l.links,(r,i)=>(s(),o("div",null,[r.url===null?(s(),o("span",{class:"py-2 px-4 rounded-md",innerHTML:r.label,key:r.label},null,8,A)):(s(),o("span",E,[g((s(),v(a(f),{key:i,class:k(["py-2 px-4 rounded-md md:hidden",{"bg-indigo-500 dark:bg-indigo-800 text-gray-300":r.active}]),href:r.url,innerHTML:r.label},null,8,["href","class","innerHTML"])),[[T,i<3||r.label==l.links[l.links.length-1].label||r.label==l.links[l.links.length-2].label]]),(s(),v(a(f),{key:i,class:k(["py-2 px-4 rounded-md hidden md:inline",{"bg-indigo-500 dark:bg-indigo-800 text-gray-300":r.active}]),href:r.url,innerHTML:r.label},null,8,["href","class","innerHTML"]))]))]))),256))]))}},P={class:"grid grid-cols-1 md:grid-cols-3 place-content-center"},Z={class:"flex items-center justify-center gap-4"},G=e("label",{for:"category",class:"w-1/3 md:w-auto"},"دسته بندی:",-1),J=e("option",{value:"0",selected:""},"همه دسته بندی ها",-1),K=["value"],R={class:"flex items-center justify-center gap-4"},W=e("label",{for:"level",class:"w-1/3 md:w-auto"},"سطح:",-1),X=e("option",{value:"0",selected:""},"همه سطوح",-1),Y=["value"],ee={class:"flex items-center justify-center gap-4"},te=e("button",{type:"submit",class:"btn-primary mt-2"},"جستجو",-1),se={class:"w-full table-auto border border-gray-500 border-collapse text-base font-medium text-gray-500"},re=e("thead",null,[e("tr",null,[e("th",{class:"border border-gray-500 p-2 md:p-4"},"ردیف"),e("th",{class:"border border-gray-500"},"متن سوال"),e("th",{class:"border border-gray-500"},"دسته بندی"),e("th",{class:"border border-gray-500"},"عملیات")])],-1),le={class:"border border-gray-500 md:p-2 text-center"},ae={class:"border border-gray-500 md:pr-4"},oe={class:"border border-gray-500 text-center"},ne={class:"border border-gray-500"},de={class:"flex flex-col md:flex-row gap-2 my-2 md:m-2 items-center justify-center"},ie=["onClick"],ce={key:0,class:"w-full flex justify-center my-8"},xe={__name:"Index",props:{filters:Object,questions:Object,categories:Object,levels:Object},setup(l){const p=l,_=B(),r=H(()=>_.props.flash.success),i=S(!0),V=c=>{setTimeout(()=>{i.value=!1},c)},$=[{label:"داشبورد",url:route("dashboard")},{label:"سوالات",url:route("questions.index")}],m=w({category:p.filters.category??0,level:p.filters.level??0,text:p.filters.text??""}),C=()=>m.get(route("questions.index"),{preserveScroll:!0}),L=c=>{const n=w({id:c});n.delete(route("questions.destroy",c),{onSuccess:()=>{n.reset(),i.value=!0,V(2e3)}})};return(c,n)=>(s(),o(h,null,[d(a(N),{title:"همه سوالات"}),d(F,null,{header:u(()=>[d(Q,{breadcrumbs:$},{"right-side":u(()=>[d(a(f),{href:c.route("questions.create"),class:"btn-primary hidden md:block"},{default:u(()=>[y("افزودن سوال")]),_:1},8,["href"])]),_:1})]),content:u(()=>[g(e("div",{onClick:n[0]||(n[0]=t=>i.value=!i.value),class:"flash-message bg-red-500"},b(r.value),513),[[T,r.value&&i.value]]),d(j,{class:"p-6 mb-6"},{default:u(()=>[e("form",{onSubmit:U(C,["prevent"])},[e("div",P,[e("div",Z,[G,g(e("select",{id:"category",class:"input w-2/3","onUpdate:modelValue":n[1]||(n[1]=t=>a(m).category=t)},[J,(s(!0),o(h,null,x(l.categories,t=>(s(),o("option",{key:t.id,value:t.id},b(t.name),9,K))),128))],512),[[M,a(m).category]])]),e("div",R,[W,g(e("select",{id:"level",class:"input w-2/3","onUpdate:modelValue":n[2]||(n[2]=t=>a(m).level=t)},[X,(s(!0),o(h,null,x(l.levels,t=>(s(),o("option",{key:t.id,value:t.id},b(t.name),9,Y))),128))],512),[[M,a(m).level]])]),e("div",ee,[g(e("input",{type:"text",placeholder:"متن خود را جستجو کنید",class:"input w-2/3","onUpdate:modelValue":n[3]||(n[3]=t=>a(m).text=t)},null,512),[[O,a(m).text]]),te])])],32)]),_:1}),d(j,{class:"p-6"},{default:u(()=>[e("table",se,[re,e("tbody",null,[(s(!0),o(h,null,x(l.questions.data,(t,q)=>(s(),o("tr",{key:t.id},[e("td",le,b(l.questions.from+q),1),e("td",ae,b(t.text),1),e("td",oe,[d(a(f),{class:"text-indigo-800 underline italic",href:c.route("questions.index",{category:t.category.id})},{default:u(()=>[y(b(t.category.name),1)]),_:2},1032,["href"])]),e("td",ne,[e("div",de,[d(a(f),{href:c.route("questions.show",t.id),class:"btn-primary text-center px-2 md:px-4"},{default:u(()=>[y("نمایش")]),_:2},1032,["href"]),d(a(f),{href:c.route("questions.edit",t.id),class:"btn-primary text-center bg-green-500 px-2 md:px-4"},{default:u(()=>[y("ویرایش")]),_:2},1032,["href"]),e("button",{onClick:ue=>L(t.id),class:"btn-primary text-center bg-red-500 px-2 md:px-4"},"حذف",8,ie)])])]))),128))])]),l.questions.data.length?(s(),o("div",ce,[d(I,{links:l.questions.links},null,8,["links"])])):D("",!0)]),_:1})]),_:1})],64))}};export{xe as default};
