import{Q as B,d as C,r as F,T as O,o as n,c as a,a as c,u as t,w as p,F as v,Z as T,f as e,t as l,e as u,v as E,s as b,j as x,g as w,l as m,h as y}from"./app-dd8571fb.js";import{_ as L}from"./AuthWithSidebarLayout-53551b2d.js";import{B as g}from"./Box-53e3f365.js";import{u as Q,a as Y}from"./date-c7da505b.js";import{_ as Z}from"./Breadcrumbs-c157ac91.js";import"./AuthenticatedLayout-49277159.js";import"./DropdownLink-4735ad2e.js";import"./_plugin-vue_export-helper-c27b6911.js";const z=e("h1",{class:"text-gray-500 text-center font-bold"},"مشخصات سوال",-1),A={class:"text-gray-800 text-sm flex flex-col gap-2"},G={class:"flex flex-col gap-4 md:px-16"},H={class:"flex justify-between"},I={class:"w-2/5"},J=e("label",{for:"level"},"سطح سوال:",-1),K=["value"],P={class:"w-2/5"},R=e("label",{for:"category"},"دسته بندی سوال:",-1),W=["value"],X={class:"mt-4"},ee=e("label",{class:"block",for:"question"},"متن سوال:",-1),se={key:0,class:"input-error"},te=e("label",{for:"correct"},"پاسخ صحیح",-1),oe={key:0,class:"input-error"},re=e("label",{for:"answer-one"},"پاسخ اول",-1),ne={key:0,class:"input-error"},ae=e("label",{for:"answer-two"},"پاسخ دوم",-1),le={key:0,class:"input-error"},ie=e("label",{for:"answer-three"},"پاسخ سوم",-1),ue={key:0,class:"input-error"},de={class:"flex flex-col md:flex-row gap-4 mt-4"},ce=e("button",{type:"submit",class:"btn-primary"},"ثبت سوال",-1),ye={__name:"Edit",props:{question:Object,levels:Object,categories:Object},setup(_){const i=_,q=B(),f=C(()=>q.props.flash.success),d=F(!0),k=h=>{setTimeout(()=>{d.value=!1},h)},V=[{label:"داشبورد",url:route("dashboard")},{label:"سوالات",url:route("questions.index")},{label:"ویرایش سوال",url:route("questions.edit",i.question.id)}],{shamsiYear:M,shamsiMonthNumber:pe,shamsiMonth:$,shamsiDay:D}=Q(),{shamsiDayNames:S}=Y(),U=new Date().getDay(),N=`${S[U]} ${D} ${$} ماه ${M}`,s=O({level_id:i.question.level.id,category_id:i.question.category.id,question:i.question.text,answers:{correct:i.question.answers[0].text,answer_one:i.question.answers[1].text,answer_two:i.question.answers[2].text,answer_three:i.question.answers[3].text}}),j=()=>s.put(route("questions.update",i.question.id),{onSuccess:()=>{d.value=!0,k(2e3)}});return(h,r)=>(n(),a(v,null,[c(t(T),{title:"ویرایش سوال"}),c(L,null,{header:p(()=>[c(Z,{breadcrumbs:V})]),aside:p(()=>[c(g,{class:"flex flex-col gap-4 w-full p-6"},{default:p(()=>[z,e("div",A,[e("div",null,"نام طراح: "+l(_.question.user.name),1),e("div",null,"تاریخ امروز: "+l(N))])]),_:1})]),content:p(()=>[u(e("div",{onClick:r[0]||(r[0]=o=>d.value=!d.value),class:"flash-message"},l(f.value),513),[[E,f.value&&d.value]]),c(g,{class:"p-6"},{default:p(()=>[e("form",{onSubmit:y(j,["prevent"])},[e("div",G,[e("div",H,[e("div",I,[J,u(e("select",{id:"level",class:"input","onUpdate:modelValue":r[1]||(r[1]=o=>t(s).level_id=o)},[(n(!0),a(v,null,x(_.levels,o=>(n(),a("option",{key:o.id,value:o.id},l(o.name),9,K))),128))],512),[[b,t(s).level_id,void 0,{number:!0}]])]),e("div",P,[R,u(e("select",{id:"category",class:"input","onUpdate:modelValue":r[2]||(r[2]=o=>t(s).category_id=o)},[(n(!0),a(v,null,x(_.categories,o=>(n(),a("option",{key:o.id,value:o.id},l(o.name),9,W))),128))],512),[[b,t(s).category_id,void 0,{number:!0}]])])]),e("div",X,[ee,u(e("textarea",{id:"question",placeholder:"متن سوال",class:"input","onUpdate:modelValue":r[3]||(r[3]=o=>t(s).question=o)},null,512),[[w,t(s).question]]),t(s).errors.question?(n(),a("div",se,l(t(s).errors.question),1)):m("",!0)]),e("div",null,[te,u(e("input",{type:"text",id:"correct",placeholder:"پاسخ صحیح",class:"input","onUpdate:modelValue":r[4]||(r[4]=o=>t(s).answers.correct=o)},null,512),[[w,t(s).answers.correct]]),t(s).errors["answers.correct"]?(n(),a("div",oe,l(t(s).errors["answers.correct"]),1)):m("",!0)]),e("div",null,[re,u(e("input",{type:"text",id:"answer-one",placeholder:"پاسخ اول",class:"input","onUpdate:modelValue":r[5]||(r[5]=o=>t(s).answers.answer_one=o)},null,512),[[w,t(s).answers.answer_one]]),t(s).errors["answers.answer_one"]?(n(),a("div",ne,l(t(s).errors["answers.answer_one"]),1)):m("",!0)]),e("div",null,[ae,u(e("input",{type:"text",id:"answer-two",placeholder:"پاسخ دوم",class:"input","onUpdate:modelValue":r[6]||(r[6]=o=>t(s).answers.answer_two=o)},null,512),[[w,t(s).answers.answer_two]]),t(s).errors["answers.answer_two"]?(n(),a("div",le,l(t(s).errors["answers.answer_two"]),1)):m("",!0)]),e("div",null,[ie,u(e("input",{type:"text",id:"answer-three",placeholder:"پاسخ سوم",class:"input","onUpdate:modelValue":r[7]||(r[7]=o=>t(s).answers.answer_three=o)},null,512),[[w,t(s).answers.answer_three]]),t(s).errors["answers.answer_three"]?(n(),a("div",ue,l(t(s).errors["answers.answer_three"]),1)):m("",!0)]),e("div",de,[ce,e("button",{type:"rest",class:"btn-bordered",onClick:r[8]||(r[8]=y(o=>t(s).reset(),["prevent"]))},"از نو سازی")])])],32)]),_:1})]),_:1})],64))}};export{ye as default};
